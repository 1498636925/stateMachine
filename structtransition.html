<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>State machine: transition Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">State machine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structtransition-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">transition Struct Reference<div class="ingroups"><a class="el" href="group__stateMachine.html">State machine</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Transition between a state and another state.  
 <a href="structtransition.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="stateMachine_8h_source.html">stateMachine.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a27f6301234040725b53b08bb8ad4630d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a27f6301234040725b53b08bb8ad4630d"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtransition.html#a27f6301234040725b53b08bb8ad4630d">eventType</a></td></tr>
<tr class="memdesc:a27f6301234040725b53b08bb8ad4630d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The event that will trigger this transition. <br/></td></tr>
<tr class="memitem:a132bff3e61c2709562ea586a18602176"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtransition.html#a132bff3e61c2709562ea586a18602176">condition</a></td></tr>
<tr class="memdesc:a132bff3e61c2709562ea586a18602176"><td class="mdescLeft">&#160;</td><td class="mdescRight">Condition that event must fulfil.  <a href="#a132bff3e61c2709562ea586a18602176"></a><br/></td></tr>
<tr class="memitem:aaed7ffe8b4bb6ef95c8189331ec877ce"><td class="memItemLeft" align="right" valign="top">bool(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtransition.html#aaed7ffe8b4bb6ef95c8189331ec877ce">guard</a> )(void *<a class="el" href="structtransition.html#a132bff3e61c2709562ea586a18602176">condition</a>, struct <a class="el" href="group__stateMachine.html#structevent">event</a> *<a class="el" href="group__stateMachine.html#structevent">event</a>)</td></tr>
<tr class="memdesc:aaed7ffe8b4bb6ef95c8189331ec877ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if data passed with event fulfils a condition.  <a href="#aaed7ffe8b4bb6ef95c8189331ec877ce"></a><br/></td></tr>
<tr class="memitem:acfd852ae5c3f2edec2731761b7cd947b"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtransition.html#acfd852ae5c3f2edec2731761b7cd947b">action</a> )(void *stateData, struct <a class="el" href="group__stateMachine.html#structevent">event</a> *<a class="el" href="group__stateMachine.html#structevent">event</a>)</td></tr>
<tr class="memdesc:acfd852ae5c3f2edec2731761b7cd947b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function containing tasks to be performed during the transition.  <a href="#acfd852ae5c3f2edec2731761b7cd947b"></a><br/></td></tr>
<tr class="memitem:a2c3a9da2fdb1b043a0dc33bdde4d41b4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structstate.html">state</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtransition.html#a2c3a9da2fdb1b043a0dc33bdde4d41b4">nextState</a></td></tr>
<tr class="memdesc:a2c3a9da2fdb1b043a0dc33bdde4d41b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The next state.  <a href="#a2c3a9da2fdb1b043a0dc33bdde4d41b4"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Transition between a state and another state. </p>
<p>All states that are not final must have at least one transition. The transition may be guarded or not. Transitions are triggered by events. If a state has more than one transition with the same type of event (and the same condition), the first transition in the array will be run. An unconditional transition placed last in the transition array of a state can act as a "catch-all" if the event is not let through by guards. A transition may optionally run an <a class="el" href="structtransition.html#acfd852ae5c3f2edec2731761b7cd947b" title="Function containing tasks to be performed during the transition.">action</a>, which will have the triggering event passed to it as an argument, along with the state <a class="el" href="structstate.html#ac24b7cde82b081ecd942a95ffa3a97c1">data</a>.</p>
<p>It is perfectly valid for a transition to return to the state it belongs to. Such a transition will not call the state's <a class="el" href="structstate.html#afe3c84c80918f03f996c3b2b0ef4247b">entryAction</a> or <a class="el" href="structstate.html#a08e403e4d5e93e3f04635baef25b10ed">exitAction</a>.</p>
<h3>Examples</h3>
<ul>
<li>An ungarded transition to a state with no action performed: <div class="fragment"><div class="line">{</div>
<div class="line">   .eventType = Event_timeout,</div>
<div class="line">   .condition = NULL,</div>
<div class="line">   .guard = NULL,</div>
<div class="line">   .action = NULL,</div>
<div class="line">   .nextState = &amp;mainMenuState,</div>
<div class="line">},</div>
</div><!-- fragment --></li>
<li>A guarded transition executing an action <div class="fragment"><div class="line">{</div>
<div class="line">   .eventType = Event_keyboard,</div>
<div class="line">   .condition = NULL,</div>
<div class="line">   .guard = &amp;ensureNumericInput,</div>
<div class="line">   .action = &amp;addToBuffer,</div>
<div class="line">   .nextState = &amp;awaitingInputState,</div>
<div class="line">},</div>
</div><!-- fragment --></li>
<li>A guarded transition using a condition <div class="fragment"><div class="line">{</div>
<div class="line">   .eventType = Event_mouse,</div>
<div class="line">   .condition = boxLimits,</div>
<div class="line">   .guard = &amp;coordinateWithinLimits,</div>
</div><!-- fragment --> By using <a class="el" href="structtransition.html#a132bff3e61c2709562ea586a18602176">conditions</a> a more general guard function can be used, operating on the supplied argument <a class="el" href="structtransition.html#a132bff3e61c2709562ea586a18602176" title="Condition that event must fulfil.">condition</a>. In this example, <code>coordinateWithinLimits</code> checks whether the coordinate in the mouse event is within the limits of the "box".</li>
</ul>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group__stateMachine.html#structevent" title="Event.">event</a> </dd>
<dd>
<a class="el" href="structstate.html" title="State.">state</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="stateMachineExample_8c-example.html#_a5">stateMachineExample.c</a>.</dd>
</dl></div><h2>Member Data Documentation</h2>
<a class="anchor" id="acfd852ae5c3f2edec2731761b7cd947b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void( * transition::action)(void *stateData, struct <a class="el" href="group__stateMachine.html#structevent">event</a> *<a class="el" href="group__stateMachine.html#structevent">event</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function containing tasks to be performed during the transition. </p>
<p>The transition may optionally do some work in this function before entering the next state. May be NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stateData</td><td>the leaving state's <a class="el" href="structstate.html#ac24b7cde82b081ecd942a95ffa3a97c1">data</a> </td></tr>
    <tr><td class="paramname">event</td><td>the event passed to the state machine. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a132bff3e61c2709562ea586a18602176"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* transition::condition</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Condition that event must fulfil. </p>
<p>This variable will be passed to <a class="el" href="structtransition.html#aaed7ffe8b4bb6ef95c8189331ec877ce" title="Check if data passed with event fulfils a condition.">guard</a> (if <a class="el" href="structtransition.html#aaed7ffe8b4bb6ef95c8189331ec877ce" title="Check if data passed with event fulfils a condition.">guard</a> is non-NULL) and may be used as a condition that the incoming event's data must fulfil in order for the transition to be performed. By using this variable, the number of <a class="el" href="structtransition.html#aaed7ffe8b4bb6ef95c8189331ec877ce" title="Check if data passed with event fulfils a condition.">guard</a> functions can be minimized by making them more general. </p>

</div>
</div>
<a class="anchor" id="aaed7ffe8b4bb6ef95c8189331ec877ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool( * transition::guard)(void *<a class="el" href="structtransition.html#a132bff3e61c2709562ea586a18602176">condition</a>, struct <a class="el" href="group__stateMachine.html#structevent">event</a> *<a class="el" href="group__stateMachine.html#structevent">event</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if data passed with event fulfils a condition. </p>
<p>A transition may be conditional. If so, this function, if non-NULL, will be called. Its first argument will be supplied with <a class="el" href="structtransition.html#a132bff3e61c2709562ea586a18602176" title="Condition that event must fulfil.">condition</a>, which can be compared againts <a class="el" href="group__stateMachine.html#structevent" title="Event.">event</a>. The user may choose to use this argument or not. Only if the result is true, the transition will take place.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">condition</td><td>event (data) to compare the incoming event against. </td></tr>
    <tr><td class="paramname">event</td><td>the event passed to the state machine.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if the event's data fulfils the condition, otherwise false. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2c3a9da2fdb1b043a0dc33bdde4d41b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structstate.html">state</a>* transition::nextState</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The next state. </p>
<p>This must point to the next state that will be entered. It cannot be NULL, but if it is, the state machine will detect it and enter the <a class="el" href="group__stateMachine.html#ad0a1bba7cbe1a7b7a8a574ebdb9fe885">error state</a>. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="stateMachine_8h_source.html">stateMachine.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 9 2013 23:52:55 for State machine by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
