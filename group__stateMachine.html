<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>State machine: State machine</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">State machine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">State machine</div>  </div>
</div><!--header-->
<div class="contents">

<p>Finite state machine.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:stateMachine_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="stateMachine_8h.html">stateMachine.h</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:structevent"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stateMachine.html#structevent">event</a></td></tr>
<tr class="memdesc:structevent"><td class="mdescLeft">&#160;</td><td class="mdescRight">Event.  <a href="group__stateMachine.html#structevent">More...</a><br/></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtransition.html">transition</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transition between a state and another state.  <a href="structtransition.html#details">More...</a><br/></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstate.html">state</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">State.  <a href="structstate.html#details">More...</a><br/></td></tr>
<tr class="memitem:structstateMachine"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stateMachine.html#structstateMachine">stateMachine</a></td></tr>
<tr class="memdesc:structstateMachine"><td class="mdescLeft">&#160;</td><td class="mdescRight">State machine.  <a href="group__stateMachine.html#structstateMachine">More...</a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gad29739ed2b2edf3691ea54dcf9dfa7cc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stateMachine.html#gad29739ed2b2edf3691ea54dcf9dfa7cc">stateM_handleEventRetVals</a> { <br/>
&#160;&#160;<a class="el" href="group__stateMachine.html#ggad29739ed2b2edf3691ea54dcf9dfa7cca11360d41a638cd6c33db1d0fd9839289">stateM_errArg</a> =  -2, 
<a class="el" href="group__stateMachine.html#ggad29739ed2b2edf3691ea54dcf9dfa7ccad4ee635c4a77b1d98ad5df550ac3a4a5">stateM_errorStateReached</a>, 
<a class="el" href="group__stateMachine.html#ggad29739ed2b2edf3691ea54dcf9dfa7cca7f599b1959a12bd71458256fd6cd329c">stateM_stateChanged</a>, 
<a class="el" href="group__stateMachine.html#ggad29739ed2b2edf3691ea54dcf9dfa7cca28a37d28fb17a67e5fc74f165e7de2ce">stateM_stateLoopSelf</a>, 
<br/>
&#160;&#160;<a class="el" href="group__stateMachine.html#ggad29739ed2b2edf3691ea54dcf9dfa7cca9e6e87ab43d2a2cf031ff16b92ec8c38">stateM_noStateChange</a>, 
<a class="el" href="group__stateMachine.html#ggad29739ed2b2edf3691ea54dcf9dfa7ccaccd3847074003cb9ea9c35a9b769278f">stateM_finalStateReached</a>
<br/>
 }</td></tr>
<tr class="memdesc:gad29739ed2b2edf3691ea54dcf9dfa7cc"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="group__stateMachine.html#ga1633db5849b6b1a9837227a5aa754008" title="Pass an event to the state machine.">stateM_handleEvent()</a> return values  <a href="group__stateMachine.html#gad29739ed2b2edf3691ea54dcf9dfa7cc">More...</a><br/></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga268b32465e5fc5c29873382e2c21dc34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stateMachine.html#ga268b32465e5fc5c29873382e2c21dc34">stateM_init</a> (struct <a class="el" href="group__stateMachine.html#structstateMachine">stateMachine</a> *<a class="el" href="group__stateMachine.html#structstateMachine">stateMachine</a>, struct <a class="el" href="structstate.html">state</a> *initialState, struct <a class="el" href="structstate.html">state</a> *errorState)</td></tr>
<tr class="memdesc:ga268b32465e5fc5c29873382e2c21dc34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the state machine.  <a href="#ga268b32465e5fc5c29873382e2c21dc34"></a><br/></td></tr>
<tr class="memitem:ga1633db5849b6b1a9837227a5aa754008"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stateMachine.html#ga1633db5849b6b1a9837227a5aa754008">stateM_handleEvent</a> (struct <a class="el" href="group__stateMachine.html#structstateMachine">stateMachine</a> *<a class="el" href="group__stateMachine.html#structstateMachine">stateMachine</a>, struct <a class="el" href="group__stateMachine.html#structevent">event</a> *<a class="el" href="group__stateMachine.html#structevent">event</a>)</td></tr>
<tr class="memdesc:ga1633db5849b6b1a9837227a5aa754008"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pass an event to the state machine.  <a href="#ga1633db5849b6b1a9837227a5aa754008"></a><br/></td></tr>
<tr class="memitem:gaadc6e6142388ca355332a87f7377e792"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structstate.html">state</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stateMachine.html#gaadc6e6142388ca355332a87f7377e792">stateM_currentState</a> (struct <a class="el" href="group__stateMachine.html#structstateMachine">stateMachine</a> *<a class="el" href="group__stateMachine.html#structstateMachine">stateMachine</a>)</td></tr>
<tr class="memdesc:gaadc6e6142388ca355332a87f7377e792"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current state.  <a href="#gaadc6e6142388ca355332a87f7377e792"></a><br/></td></tr>
<tr class="memitem:ga340ddc8d4b1e915d7cdfa815542ef56c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structstate.html">state</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stateMachine.html#ga340ddc8d4b1e915d7cdfa815542ef56c">stateM_previousState</a> (struct <a class="el" href="group__stateMachine.html#structstateMachine">stateMachine</a> *<a class="el" href="group__stateMachine.html#structstateMachine">stateMachine</a>)</td></tr>
<tr class="memdesc:ga340ddc8d4b1e915d7cdfa815542ef56c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The previous state.  <a href="#ga340ddc8d4b1e915d7cdfa815542ef56c"></a><br/></td></tr>
<tr class="memitem:ga583694db4605f25c1fec5be541980790"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__stateMachine.html#ga583694db4605f25c1fec5be541980790">stateM_stopped</a> (struct <a class="el" href="group__stateMachine.html#structstateMachine">stateMachine</a> *<a class="el" href="group__stateMachine.html#structstateMachine">stateMachine</a>)</td></tr>
<tr class="memdesc:ga583694db4605f25c1fec5be541980790"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the state machine has stopped.  <a href="#ga583694db4605f25c1fec5be541980790"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Finite state machine. </p>
<dl class="section author"><dt>Author</dt><dd>Andreas Misje </dd></dl>
<dl class="section date"><dt>Date</dt><dd>27.03.13</dd></dl>
<p>A finite state machine implementation that supports nested states, guard conditions and entry/exit routines. No static variables are used, making it possible to run numerous instances of the state machine. No heap allocation is performed; all data is given as pointers to the module and can be stored either on the stack or the heap. </p>
<hr/><h2>Class Documentation</h2>
<a name="structevent" id="structevent"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct event</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Event. </p>
<p>Events trigger transitions from a state to another. Event types are defined by the user. Any event may optionally contain a payload (<a class="el" href="group__stateMachine.html#a675355462c32d49a652673799ca24209">data</a>).</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="structstate.html" title="State.">state</a> </dd>
<dd>
<a class="el" href="structtransition.html" title="Transition between a state and another state.">transition</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="stateMachineExample_8c-example.html#_a0">stateMachineExample.c</a>.</dd>
</dl></div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a675355462c32d49a652673799ca24209"></a>void *</td>
<td class="fieldname">
data</td>
<td class="fielddoc">
Event payload. How this is used is entirely up to the user. This data is always passed together with an eventType in order to make it possible to always cast the data correctly. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a417bea53fe23a7939b4d3c7b1bfc61e0"></a>int</td>
<td class="fieldname">
type</td>
<td class="fielddoc">
Type of event. Defined by user. </td></tr>
</table>

</div>
</div>
<a name="structstateMachine" id="structstateMachine"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct stateMachine</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>State machine. </p>
<p>Should not be manipulated directly by user. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="stateMachineExample_8c-example.html#_a8">stateMachineExample.c</a>.</dd>
</dl></div><table class="fieldtable">
<tr><th colspan="3">Class Members</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a6df7c50338192e5a1294c98123553a75"></a>struct <a class="el" href="structstate.html">state</a> *</td>
<td class="fieldname">
currentState</td>
<td class="fielddoc">
Pointer to the current state. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="ad0a1bba7cbe1a7b7a8a574ebdb9fe885"></a>struct <a class="el" href="structstate.html">state</a> *</td>
<td class="fieldname">
errorState</td>
<td class="fielddoc">
Pointer to the state which will be entered whenever an error occurs in the state machine. </td></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a2f945be42fc791da702f5bcf75a7e41e"></a>struct <a class="el" href="structstate.html">state</a> *</td>
<td class="fieldname">
previousState</td>
<td class="fielddoc">
Pointer to previous state. The previous state is stored for convenience in case the user needs to keep track of previous states. </td></tr>
</table>

</div>
</div>
<h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gad29739ed2b2edf3691ea54dcf9dfa7cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__stateMachine.html#gad29739ed2b2edf3691ea54dcf9dfa7cc">stateM_handleEventRetVals</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="group__stateMachine.html#ga1633db5849b6b1a9837227a5aa754008" title="Pass an event to the state machine.">stateM_handleEvent()</a> return values </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggad29739ed2b2edf3691ea54dcf9dfa7cca11360d41a638cd6c33db1d0fd9839289"></a>stateM_errArg</em>&nbsp;</td><td>
<p>Erroneous arguments were passed. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggad29739ed2b2edf3691ea54dcf9dfa7ccad4ee635c4a77b1d98ad5df550ac3a4a5"></a>stateM_errorStateReached</em>&nbsp;</td><td>
<p>The error state was reached. </p>
<p>The state machine enters the state machine if any of the following happends:</p>
<ul>
<li>The current state is NULL</li>
<li>A transition for the current event did not define the next state </li>
</ul>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggad29739ed2b2edf3691ea54dcf9dfa7cca7f599b1959a12bd71458256fd6cd329c"></a>stateM_stateChanged</em>&nbsp;</td><td>
<p>The current state changed into a non-final state. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggad29739ed2b2edf3691ea54dcf9dfa7cca28a37d28fb17a67e5fc74f165e7de2ce"></a>stateM_stateLoopSelf</em>&nbsp;</td><td>
<p>The state changed back to itself. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggad29739ed2b2edf3691ea54dcf9dfa7cca9e6e87ab43d2a2cf031ff16b92ec8c38"></a>stateM_noStateChange</em>&nbsp;</td><td>
<p>The current state did not change on the given event. </p>
<p>If any event passed to the state machine should result in a state change, this return value should be considered as an error. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggad29739ed2b2edf3691ea54dcf9dfa7ccaccd3847074003cb9ea9c35a9b769278f"></a>stateM_finalStateReached</em>&nbsp;</td><td>
<p>A final state (any but the error state) was reached. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<h2>Function Documentation</h2>
<a class="anchor" id="gaadc6e6142388ca355332a87f7377e792"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structstate.html">state</a>* stateM_currentState </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__stateMachine.html#structstateMachine">stateMachine</a> *&#160;</td>
          <td class="paramname"><em>stateMachine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The current state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="group__stateMachine.html#structstateMachine" title="State machine.">stateMachine</a></td><td>the state machine to get the current state from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">a</td><td>pointer to the current state. </td></tr>
    <tr><td class="paramname">NULL</td><td>if <b class="paramname"><a class="el" href="group__stateMachine.html#structstateMachine" title="State machine.">stateMachine</a></b> is NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga1633db5849b6b1a9837227a5aa754008"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stateM_handleEvent </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__stateMachine.html#structstateMachine">stateMachine</a> *&#160;</td>
          <td class="paramname"><em>stateMachine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="group__stateMachine.html#structevent">event</a> *&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pass an event to the state machine. </p>
<p>The event will be passed to the current state, and possibly to the current state's parent states (if any). If the event triggers a transition, a new state will be entered. If the new state has an entryAction defined, it will be called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="group__stateMachine.html#structstateMachine" title="State machine.">stateMachine</a></td><td>the state machine to pass an event to. </td></tr>
    <tr><td class="paramname">event</td><td>the event to be handled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="group__stateMachine.html#gad29739ed2b2edf3691ea54dcf9dfa7cc" title="stateM_handleEvent() return values">stateM_handleEventRetVals</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="stateMachineExample_8c-example.html#a10">stateMachineExample.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga268b32465e5fc5c29873382e2c21dc34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stateM_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__stateMachine.html#structstateMachine">stateMachine</a> *&#160;</td>
          <td class="paramname"><em>stateMachine</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structstate.html">state</a> *&#160;</td>
          <td class="paramname"><em>initialState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structstate.html">state</a> *&#160;</td>
          <td class="paramname"><em>errorState</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the state machine. </p>
<p>This function initialises the supplied <a class="el" href="group__stateMachine.html#structstateMachine" title="State machine.">stateMachine</a> and sets the current state to <b class="paramname">initialState</b>. No actions are performed until <a class="el" href="group__stateMachine.html#ga1633db5849b6b1a9837227a5aa754008" title="Pass an event to the state machine.">stateM_handleEvent()</a> is called. It is safe to call this function numerous times, for instance in order to reset/restart the state machine if a final state has been reached.</p>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="structstate.html#afe3c84c80918f03f996c3b2b0ef4247b">entry action</a> for <b class="paramname">initialState</b> will not be called.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="group__stateMachine.html#structstateMachine" title="State machine.">stateMachine</a></td><td>the state machine to initalise. </td></tr>
    <tr><td class="paramname">initialState</td><td>the initial state of the state machine. </td></tr>
    <tr><td class="paramname">errorState</td><td>pointer to a state that acts a final state and notifys the system/user that an eror has occurred. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="stateMachineExample_8c-example.html#a9">stateMachineExample.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga340ddc8d4b1e915d7cdfa815542ef56c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structstate.html">state</a>* stateM_previousState </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__stateMachine.html#structstateMachine">stateMachine</a> *&#160;</td>
          <td class="paramname"><em>stateMachine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The previous state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="group__stateMachine.html#structstateMachine" title="State machine.">stateMachine</a></td><td>the state machine to get the previous state from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>previous state. </td></tr>
    <tr><td class="paramname">NULL</td><td>if <b class="paramname"><a class="el" href="group__stateMachine.html#structstateMachine" title="State machine.">stateMachine</a></b> is NULL. </td></tr>
    <tr><td class="paramname">NULL</td><td>if there has not yet been any transitions. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga583694db4605f25c1fec5be541980790"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool stateM_stopped </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="group__stateMachine.html#structstateMachine">stateMachine</a> *&#160;</td>
          <td class="paramname"><em>stateMachine</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the state machine has stopped. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="group__stateMachine.html#structstateMachine" title="State machine.">stateMachine</a></td><td>the state machine to test.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">true</td><td>if the state machine has reached a final state. </td></tr>
    <tr><td class="paramname">false</td><td>if <b class="paramname"><a class="el" href="group__stateMachine.html#structstateMachine" title="State machine.">stateMachine</a></b> is NULL or if the current state is not a final state. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 9 2013 23:52:55 for State machine by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
